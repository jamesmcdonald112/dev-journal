## **References (keep these)**

- Andy Bell — CUBE CSS: https://piccalil.li/blog/cube-css/
    
- Every Layout — Book (PDF you own)
    
- GOV.UK Design System (accessibility & patterns): https://design-system.service.gov.uk/
    
- Tailwind Typography plugin (prose) — content styling utility
    

---

## **What “utilities” mean in this setup**

  

**Utility classes:**

- Do **one job well**
    
- Are **generic**
    
- Are **reusable everywhere**
    
- Do **not describe a component**
    
- Do **not encode visual identity**
    

  

In Tailwind projects:

- Most utilities already exist (flex, grid, gap-*, text-*)
    
- You only add **custom utilities** when:
    
    - semantics matter (.wrapper, .flow)
        
    - accessibility matters (.sr-only)
        
    - you want consistent intent across 100 sites
        
    

---

## **Important clarification (don’t skip)**

  

> **Composition utilities** (like .flow, .stack, .cluster)

> still live in the utilities layer in Tailwind,

> but conceptually belong to **Composition** in CUBE.

  

That’s fine.

CUBE is a **thinking model**, Tailwind is a **delivery system**.

---

# **Final Utilities Layer (cleaned + correct)**

  

This is the **best version** of what you were aiming for.

```css
@layer utilities {

  /* ======================================================
     COMPOSITION UTILITIES (layout & rhythm)
     ====================================================== */

  /* Vertical rhythm for content (CUBE / Every Layout "Stack") */
  .flow > * + * {
    margin-block-start: var(--flow-space, 1rem);
  }

  /* Centered page wrapper */
  .wrapper {
    margin-inline: auto;
    max-width: 80rem;
    padding-inline: clamp(1rem, 4vw, 2rem);
  }

  /* Inline group that wraps naturally (menus, buttons, tags) */
  .cluster {
    display: flex;
    flex-wrap: wrap;
    gap: var(--gap, 1rem);
    align-items: center;
  }

  /* Vertical grouping with consistent spacing */
  .stack {
    display: flex;
    flex-direction: column;
    gap: var(--gap, 1rem);
  }

  /* ======================================================
     SMALL GENERIC UTILITIES
     ====================================================== */

  /* Reset list styling when needed (navs, custom lists) */
  .list-reset {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  /* Screen-reader only content (accessibility) */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Reveal sr-only content when focused (skip links) */
  .sr-only-focusable:active,
  .sr-only-focusable:focus {
    position: static;
    width: auto;
    height: auto;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}
```

---

## **What was intentionally removed (and why)**

  

### **❌** 

### **.flex**

###  **/** 

### **.grid**

- Tailwind already provides these
    
- Duplicating them causes confusion and collisions
    
- Use **semantic helpers** instead (.cluster, .stack)
    

  

### **❌ Visual utilities (colors, spacing)**

- Tailwind already handles these
    
- Tokens already live in your @theme
    
- Don’t rebuild Tailwind inside Tailwind
    

---

## **How these are used in real pages (examples)**

  

### **Page section**

```
<section class="wrapper flow">
  <h2>Our Services</h2>
  <p>We specialise in…</p>
  <a href="#">Contact us</a>
</section>
```

### **Button row**

```
<div class="cluster">
  <button class="btn-primary">Call</button>
  <button class="btn-muted">Email</button>
</div>
```

### **Card content**

```
<div class="card">
  <div class="card__content flow">
    <h3>Property Law</h3>
    <p>Clear advice from day one.</p>
  </div>
</div>
```

---

## **How GOV.UK Design System fits here**

  

You **do not copy their CSS**.

  

You use GOV.UK for:

- Accessible form structure
    
- Error message patterns
    
- Label + hint + error ordering
    
- Keyboard & focus behaviour
    
- Proven wording and UX
    

  

Then you style those patterns with:

- Tailwind utilities
    
- Your .form-* blocks
    
- Your tokens
    

  

Think of GOV.UK as **the safety net**.

---

## **Lock-in summary (utilities)**

- Utilities are **helpers**, not components
    
- Composition utilities control **layout relationships**
    
- Tailwind covers most utilities already
    
- You only add what Tailwind doesn’t give you cleanly
    
- This utilities set is enough for **100 sites**
    