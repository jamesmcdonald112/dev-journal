Sonner is a lightweight **React toast system**.

Astro can only use it **after enabling React islands**.

  

**Docs:** https://sonner.emilkowal.ski

---

# **Install**

```bash
npm install sonner
npx astro add react
```

---

# **Core Setup**

  

### **1. Create the Toaster client component**

  

src/components/ui/ToasterClient.tsx

```bash
import { Toaster } from "sonner";

export default function ToasterClient() {
  return <Toaster />;
}
```

---

### **2. Option A — Add Toaster in the Layout (Global)**

  

src/layouts/Layout.astro

```ts
---
import ToasterClient from "../components/ui/ToasterClient.tsx";
---

<html>
  <body>
    <slot />
    <ToasterClient client:load />
  </body>
</html>
```

### **Use case**

- You want toast available across the entire site (forms, CTA buttons, dashboard, anything).
    
- Simplest setup.
    

  

### **Trade-offs**

  

**Pros**

- One place to manage.
    
- Everything in the site can call toast() and it works.
    
- No duplicated hydration.
    

  

**Cons**

- Loads a small React island on **every page**, even if the page does not use toast.
    
- Slightly more JS downloaded site-wide (still tiny).
    

---

### **3. Option B — Add Toaster on a Single Page or Section (Local)**

  

Example on **Contact Page Only**:

  

src/pages/contact.astro

```ts
---
import ToasterClient from "../components/ui/ToasterClient.tsx";
---

<ContactForm />
<ToasterClient client:load />
```

### **Use case**

- The site is mostly static.
    
- Only one or two pages need toast.
    

  

### **Trade-offs**

  

**Pros**

- React only loads where needed.
    
- Zero overhead on normal pages (home, pricing, testimonials, etc.).
    
- Cleaner for static marketing-style websites (which Astro excels at).
    

  

**Cons**

- You must remember to add <ToasterClient /> on every page that needs it.
    
- Harder to call toast from components on other pages (unless those pages hydrate too).
    

---

# **Performance Notes**

- Sonner is tiny — performance cost is **negligible**, but not zero.
    
- The cost comes from hydrating one small React component.
    
- If performance is your top priority:
    
    - Use **Option B (local)**.
        
    - Only hydrate the contact form + toast on the form page.
        
    
## Using Toast

  
# **1.Create a test button to trigger toast**

  

Create:

  

src/components/ui/ToastTest.tsx

```ts
"use client";

import { toast } from "sonner";

export default function ToastTest() {
  return (
    <button
      onClick={() => toast("Toast is working!")}
      style={{
        padding: "8px 16px",
        border: "1px solid #ccc",
        borderRadius: "6px",
        cursor: "pointer",
      }}
    >
      Show Test Toast
    </button>
  );
}
```

⚠️ Needs "use client" because this is a React island.

---

# **✅ 2. Add both components to a page to test them**

  

Example: src/pages/index.astro

```ts
---
import ToastTest from "../components/ui/ToastTest.tsx";
import ToasterClient from "../components/ui/ToasterClient.tsx";
---

<html>
  <body>
    <h1>Toast Test</h1>

    <ToastTest client:load />
    <ToasterClient client:load />
  </body>
</html>
```

---

# **✅ 3. Run your dev server**

```
npm run dev
```

Visit your homepage → click **“Show Test Toast”** →

you should see a toast slide in.

---

# **✔ If toast appears → Sonner + React islands = working.**

  

# **❌ If you get errors → send me the console output; it’s always fixable.**

---

# **Want to test it with success/error styles too?**

  

Replace the button content with:

```ts
<button onClick={() => toast.success("Success toast!")}>
  Success
</button>

<button onClick={() => toast.error("Error toast!")}>
  Error
</button>
```

